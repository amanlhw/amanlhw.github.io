(function(e){function t(t){for(var a,l,r=t[0],o=t[1],c=t[2],d=0,h=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var o=s[r];0!==i[o]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=s[0]))}return e}var a={},i={app:0},n=[];function l(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=a,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(s,a,function(t){return e[t]}.bind(null,a));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00f7":function(e,t,s){"use strict";s("caef")},"0967":function(e,t,s){"use strict";s("ba9d")},"0daa":function(e,t,s){"use strict";s("7bc4")},"0e7a":function(e,t,s){"use strict";s("b009")},2312:function(e,t,s){},"2ad7":function(e,t,s){},"2c7e":function(e,t,s){"use strict";s("2312")},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],l={name:"App"},r=l,o=(s("0967"),s("2877")),c=Object(o["a"])(r,i,n,!1,null,null,null),u=c.exports,d=s("8c4f"),h=function(){var e=this,t=e._self._c;return t("PageLayout",{attrs:{title:"叮咚的工具箱",hideBackButton:!0}},[t("div",{staticClass:"home-content"},[t("div",{staticClass:"welcome-section"},[t("h2",[e._v("欢迎使用叮咚的工具箱")]),t("p",[e._v("这里提供了一些实用的开发工具，希望能帮助您提高工作效率")])]),t("div",{staticClass:"tools-grid"},e._l(e.toolList,(function(s){return t("router-link",{key:s.id,staticClass:"tool-card",attrs:{to:e.getToolLink(s)}},[t("div",{staticClass:"tool-icon"},[t("i",{class:s.icon})]),t("div",{staticClass:"tool-info"},[t("h3",{staticClass:"tool-title"},[e._v(" "+e._s(s.title)+" "),"external"===s.type?t("i",{staticClass:"el-icon-link external-indicator"}):e._e()]),t("p",{staticClass:"tool-description"},[e._v(e._s(s.description))])])])})),1),t("div",{staticClass:"footer-section"},[t("p",[e._v("Copyright © 2025 叮咚的工具箱")])])])])},m=[],p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-layout"},[t("div",{staticClass:"header"},[t("div",{staticClass:"header-content"},[t("h1",{staticClass:"page-title"},[e._v(e._s(e.title))]),e.hideBackButton?e._e():t("router-link",{staticClass:"back-button",attrs:{to:"/"}},[t("el-button",{attrs:{type:"text"}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v(" 返回首页 ")])],1)],1)]),t("div",{staticClass:"content",class:{"content-full-width":e.fullWidth}},[e._t("default")],2)])},f=[],g={name:"PageLayout",props:{title:{type:String,required:!0},hideBackButton:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}}},y=g,v=(s("89ea"),Object(o["a"])(y,p,f,!1,null,"318b38c5",null)),k=v.exports,C={name:"Home",components:{PageLayout:k},data(){return{toolList:[{id:1,type:"internal",route:"/sql-format",title:"SQL字段转换",description:"将SQL字段定义转换为TypeScript接口",icon:"el-icon-document-copy"},{id:2,type:"internal",route:"/plate-generator",title:"车牌号生成器",description:"快速生成车牌号图片",icon:"el-icon-truck"},{id:3,type:"internal",route:"/work-time-schedule",title:"工时排布统计",description:"记录和管理每周工时安排",icon:"el-icon-time"},{id:4,type:"external",url:"https://sunzsh.github.io/json/",title:"JSON格式化",description:"在线JSON格式化工具",icon:"el-icon-document"},{id:5,type:"external",url:"https://tool.lu",title:"在线工具集",description:"程序员在线工具集合",icon:"el-icon-folder"},{id:6,type:"external",url:"https://www.bejson.com",title:"BeJSON工具",description:"JSON在线解析及格式化验证",icon:"el-icon-edit-outline"},{id:7,type:"external",url:"https://www.json.cn",title:"JSON格式化",description:"在线JSON格式化工具",icon:"el-icon-document"}]}},methods:{getToolLink(e){if("external"===e.type){const t=encodeURIComponent(e.url),s=encodeURIComponent(e.title),a=encodeURIComponent(e.description||"");return`/web-embed/${t}/${s}/${a}`}return e.route}}},w=C,b=(s("6cba"),Object(o["a"])(w,h,m,!1,null,"52966e28",null)),T=b.exports,_=function(){var e=this,t=e._self._c;return t("PageLayout",{attrs:{title:"SQL字段转换"}},[t("el-row",{staticClass:"sql-format-content",attrs:{gutter:32}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",{staticClass:"input-section",attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"card-title"},[t("i",{staticClass:"el-icon-edit"}),e._v(" 输入SQL字段定义 ")])]),t("el-input",{staticClass:"sql-input",attrs:{type:"textarea",rows:15,placeholder:"请输入SQL字段定义...",resize:"none"},model:{value:e.sqlInput,callback:function(t){e.sqlInput=t},expression:"sqlInput"}}),t("div",{staticClass:"button-group"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.convertSql}},[e._v(" 转换 ")]),t("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearAll}},[e._v(" 清空 ")]),t("el-button",{attrs:{icon:"el-icon-document"},on:{click:e.loadTestData}},[e._v(" 测试数据 ")])],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",{staticClass:"output-section",attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"card-title"},[t("i",{staticClass:"el-icon-document"}),e._v(" 转换结果 ")])]),t("el-input",{staticClass:"sql-output",attrs:{type:"textarea",rows:15,placeholder:"转换结果将显示在这里...",readonly:"",resize:"none"},model:{value:e.showSql,callback:function(t){e.showSql=t},expression:"showSql"}}),t("div",{staticClass:"button-group"},[t("el-button",{attrs:{type:"success",icon:"el-icon-document-copy"},on:{click:e.copyResult}},[e._v(" 复制结果 ")])],1)],1)],1)],1)],1)},L=[],N={name:"SqlFormat",components:{PageLayout:k},data(){return{sqlInput:"",showSql:""}},methods:{convertSql(){if(this.sqlInput.trim())try{const e=this.parseSqlFields(this.sqlInput);this.showSql=e.join("\n"),this.$message.success("转换完成！")}catch(e){this.$message.error("转换失败，请检查输入格式"),console.error("转换错误:",e)}else this.$message.warning("请输入SQL字段定义")},parseSqlFields(e){const t=e.trim(),s=this.splitFieldDefinitions(t);return s.filter(e=>e.trim()).map(e=>this.parseSingleField(e)).filter(e=>e)},splitFieldDefinitions(e){const t=e.replace(/,\s*$/,""),s=[];let a="",i=!1,n="";for(let l=0;l<t.length;l++){const e=t[l];"'"!==e&&'"'!==e||0!==l&&"\\"===t[l-1]||(i?e===n&&(i=!1):(i=!0,n=e)),","!==e||i?a+=e:(s.push(a.trim()),a="")}return a.trim()&&s.push(a.trim()),s},parseSingleField(e){try{const t=e.match(/`([^`]+)`/);if(!t)return console.warn("无法解析字段名:",e),null;const s=t[1],a=this.strToCam(s),i=e.match(/`\s*(\w+)/i),n=i?i[1].toLowerCase():"",l=["bigint","int","tinyint","smallint","mediumint","decimal","float","double"],r=l.includes(n)?"number":"string",o=e.includes("NOT NULL"),c=e.match(/DEFAULT\s+['"`]?([^'"`,\s]+)['"`]?/i),u=c?c[1]:null,d=e.match(/COMMENT\s+['"`]([^'"`]+)['"`]/i),h=d?d[1]:"",m=[];h&&m.push(h),o&&m.push("【必填】"),null!==u&&m.push(`【默认为：${u}】`);const p=m.length>0?"  // "+m.join(" "):"",f=o?"":"?";return`${a}${f}: ${r};${p}`}catch(t){return console.warn("解析字段失败:",e,t),null}},strToCam(e){return e&&"string"===typeof e?e.toLowerCase().split("_").map((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1)).join(""):""},copyResult(){this.showSql.trim()?navigator.clipboard.writeText(this.showSql).then(()=>{this.$message.success("复制成功！")}).catch(()=>{const e=document.createElement("textarea");e.value=this.showSql,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$message.success("复制成功！")}):this.$message.warning("没有可复制的内容")},clearAll(){this.sqlInput="",this.showSql=""},loadTestData(){this.sqlInput="\n        `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',\n        `company_id` bigint(20) NOT NULL COMMENT '客户公司编码',\n        `bill_no` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '单据号',\n        `contract_status` tinyint(4) NOT NULL DEFAULT '10' COMMENT '合同状态(10=正常 20=已过期 30=提前中止)',\n        `display_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '显示品牌/品类控制字段(0=品牌 1=品类)',\n        `supplier_no` varchar(20) NOT NULL COMMENT '供应商编号',\n        `stock_qty` decimal(12,3) NOT NULL DEFAULT '0.000' COMMENT '库存数量',\n        `before_qty` decimal(12,3) NOT NULL DEFAULT '0.000' COMMENT '调整前数量',\n        `adjustment_qty` decimal(12,3) NOT NULL DEFAULT '0.000' COMMENT '调整数量',\n        `settlement_method` tinyint(4) NOT NULL COMMENT '结算方式 1=半月结 2=月结 3=季结 ',\n        `currency` tinyint(4) NOT NULL COMMENT '币种(1=人民币 2=港币 3=美元)',\n        `effective_date` date NOT NULL COMMENT '生效日期',\n        `status` varchar(20) NOT NULL DEFAULT '10' COMMENT '状态(10=正常 20=审核)',\n        `remarks` varchar(100) DEFAULT NULL COMMENT '备注',\n        `creator` varchar(20) NOT NULL COMMENT '创建人',\n        `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间(不可人为调整)',\n        `modifier` varchar(20) DEFAULT NULL COMMENT '修改人',\n        `modify_time` datetime DEFAULT NULL COMMENT '修改时间',\n        `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',\n        `del_tag` varchar(2) DEFAULT '0' COMMENT '归档删除标识(0=正常归档，删除后数据同步下游 1=归档删除，删除后数据不同步下游',\n        `partion_no` varchar(20) NOT NULL COMMENT '分库特征码',\n      ",this.showSql=""}}},D=N,S=(s("0daa"),Object(o["a"])(D,_,L,!1,null,"257fd45f",null)),O=S.exports,x=function(){var e=this,t=e._self._c;return t("PageLayout",{attrs:{title:"车牌号图片生成器"}},[t("div",{staticClass:"plate-generator-content"},[t("el-card",{staticClass:"input-section",attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("i",{staticClass:"el-icon-edit"}),t("span",[e._v("输入车牌号")])]),t("el-form",{attrs:{model:e.formData,"label-width":"100px",size:"medium"}},[t("el-form-item",{attrs:{label:"车牌号码"}},[t("el-input",{attrs:{placeholder:"请输入车牌号，如：京A12345",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.generatePlate.apply(null,arguments)}},model:{value:e.plateNumber,callback:function(t){e.plateNumber=t},expression:"plateNumber"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-picture",disabled:!e.plateNumber.trim()},on:{click:e.generatePlate}},[e._v(" 生成图片 ")])],1)],1)],1),t("el-card",{staticClass:"preview-section",attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("i",{staticClass:"el-icon-view"}),t("span",[e._v("车牌预览")])]),t("div",{staticClass:"canvas-container"},[t("canvas",{ref:"plateCanvas",attrs:{width:"320",height:"80"}}),t("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-download",disabled:!e.plateNumber.trim()},on:{click:e.downloadPlate}},[e._v(" 下载PNG图片 ")])],1)])],1)])},W=[],E={name:"PlateGenerator",components:{PageLayout:k},data(){return{plateNumber:"京A12345",formData:{plateNumber:""}}},mounted(){this.generatePlate()},methods:{generatePlate(){const e=this.$refs.plateCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#1976d2",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#fff",t.lineWidth=2;const s=10,a=5,i=a,n=a,l=e.width-2*a,r=e.height-2*a;t.beginPath(),t.moveTo(i+s,n),t.lineTo(i+l-s,n),t.quadraticCurveTo(i+l,n,i+l,n+s),t.lineTo(i+l,n+r-s),t.quadraticCurveTo(i+l,n+r,i+l-s,n+r),t.lineTo(i+s,n+r),t.quadraticCurveTo(i,n+r,i,n+r-s),t.lineTo(i,n+s),t.quadraticCurveTo(i,n,i+s,n),t.closePath(),t.stroke(),t.beginPath(),t.arc(120,e.height/2,4,0,2*Math.PI),t.fillStyle="#fff",t.fill(),t.textAlign="left",t.textBaseline="middle";const o=this.plateNumber||"京A12345",c=o.slice(0,1),u=o.slice(1,2),d=o.slice(2);t.font='bold 36px "Arial Narrow", "Microsoft YaHei", "黑体", Arial, sans-serif',t.fillStyle="#000000",t.fillText(c,21.5,e.height/2+4+1.5),t.fillStyle="#E0E0E0",t.fillText(c,19.5,e.height/2+4-.5),t.fillStyle="#fff",t.fillText(c,20,e.height/2+4),t.font='bold 40px "Arial Narrow", "Microsoft YaHei", "黑体", Arial, sans-serif',t.fillStyle="#000000",t.fillText(u,66.5,e.height/2+4+1.5),t.fillStyle="#E0E0E0",t.fillText(u,64.5,e.height/2+4-.5),t.fillStyle="#fff",t.fillText(u,65,e.height/2+4);let h=140,m=30;(5===d.length||6===d.length)&&(m=30);for(let p=0;p<d.length;p++)t.fillStyle="#000000",t.fillText(d[p],h+1.5,e.height/2+4+1.5),t.fillStyle="#E0E0E0",t.fillText(d[p],h-.5,e.height/2+4-.5),t.fillStyle="#fff",t.fillText(d[p],h,e.height/2+4),h+=m},downloadPlate(){const e=this.$refs.plateCanvas,t=document.createElement("a");t.download=`车牌号_${this.plateNumber||"京A88888"}.png`,t.href=e.toDataURL(),t.click()}},watch:{plateNumber(){this.$nextTick(()=>{this.generatePlate()})}}},M=E,U=(s("00f7"),Object(o["a"])(M,x,W,!1,null,"3566b994",null)),I=U.exports,q=function(){var e=this,t=e._self._c;return t("PageLayout",{attrs:{title:e.pageTitle,showBackButton:!0}},[t("div",{staticClass:"web-embed-container"},[t("div",{staticClass:"embed-header"},[t("div",{staticClass:"header-content"},[t("h2",[e._v(e._s(e.pageTitle))]),e.description?t("p",[e._v(e._s(e.description))]):e._e()]),t("div",{staticClass:"header-actions"},[t("a",{staticClass:"external-link",attrs:{href:e.url,target:"_blank"}},[t("i",{staticClass:"el-icon-link"}),e._v(" 在新窗口中打开 ")]),t("a",{staticClass:"external-link",on:{click:e.openFullscreen}},[t("i",{staticClass:"el-icon-full-screen"}),e._v(" 放大网页 ")])])]),t("div",{staticClass:"iframe-container",class:{"fullscreen-mode":e.showFullscreen}},[t("iframe",{staticClass:"embedded-iframe",class:{"fullscreen-iframe":e.showFullscreen},attrs:{src:e.url,title:e.pageTitle,frameborder:"0",allowfullscreen:""}}),e.showFullscreen?t("button",{staticClass:"floating-close-btn",on:{click:e.closeFullscreen}},[t("i",{staticClass:"el-icon-close"})]):e._e()])])])},F=[],A={name:"WebEmbed",components:{PageLayout:k},data(){return{url:"",pageTitle:"",description:"",showFullscreen:!1}},created(){const{url:e,title:t,desc:s}=this.$route.params;this.url=decodeURIComponent(e||""),this.pageTitle=decodeURIComponent(t||"外部网站"),this.description=decodeURIComponent(s||"")},mounted(){if(!this.url||!this.isValidUrl(this.url))return this.$message.error("无效的URL地址"),void this.$router.push("/")},beforeDestroy(){document.body.classList.remove("fullscreen-active"),document.documentElement.classList.remove("fullscreen-active")},methods:{isValidUrl(e){try{return new URL(e),!0}catch(t){return!1}},openFullscreen(){this.showFullscreen=!0,document.body.classList.add("fullscreen-active"),document.documentElement.classList.add("fullscreen-active")},closeFullscreen(){this.showFullscreen=!1,requestAnimationFrame(()=>{document.body.classList.remove("fullscreen-active"),document.documentElement.classList.remove("fullscreen-active")})}}},P=A,$=(s("0e7a"),Object(o["a"])(P,q,F,!1,null,"8d844f9a",null)),j=$.exports,R=function(){var e=this,t=e._self._c;return t("PageLayout",{attrs:{title:"工时排布统计",fullWidth:!0}},[t("div",{staticClass:"work-time-content"},[t("div",{staticClass:"week-navigation"},[t("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:e.previousWeek}},[e._v("上一周")]),t("div",{staticClass:"week-display"},[t("div",{staticClass:"week-title-container",on:{click:e.goToCurrentWeek}},[t("span",{staticClass:"week-title"},[e._v("第"+e._s(e.currentWeekNumber)+"周")]),e.isCurrentWeek?e._e():t("i",{staticClass:"el-icon-refresh current-week-icon",attrs:{title:"回到本周"}}),t("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("("+e._s(e.isCurrentWeek?"当前周":"非当前周")+")")])]),t("span",{staticClass:"week-date-range"},[e._v(e._s(e.weekRange))])]),t("el-button",{attrs:{type:"text",icon:"el-icon-arrow-right"},on:{click:e.nextWeek}},[e._v("下一周")])],1),t("div",{staticClass:"week-grid"},e._l(e.weekDays,(function(s){return t("div",{key:s.date,staticClass:"day-column"},[t("div",{staticClass:"day-header",class:{today:e.isToday(s.date),weekend:e.isWeekend(s.name,s.date),"workday-weekend":e.isWorkdayOnWeekend(s.name,s.date)}},[t("div",{staticClass:"day-header-top"},[t("div",{staticClass:"day-name"},[e._v(" "+e._s(s.name)+" "),e.isWeekend(s.name,s.date)?t("span",{staticClass:"weekend-badge"},[e._v(" "+e._s(e.getHolidayName(s.date)||"休")+" ")]):e._e(),e.isWorkdayOnWeekend(s.name,s.date)?t("span",{staticClass:"workday-weekend-badge"},[e._v(" 班 ")]):e._e(),e.isToday(s.date)?t("span",{staticClass:"today-weekend-badge"},[e._v(" 今 ")]):e._e()]),t("div",{staticClass:"day-date"},[e._v(e._s(s.date))])])]),t("div",{staticClass:"day-hours",class:{"weekend-hours":e.isWeekend(s.name,s.date)&&!e.isWorkdayOnWeekend(s.name,s.date)}},[t("i",{staticClass:"el-icon-time"}),t("span",{staticClass:"current-hours"},[e._v(e._s(e.getTotalHours(s.items)))]),t("span",{staticClass:"hours-separator"},[e._v("/")]),t("span",{staticClass:"target-hours"},[e._v(e._s(e.isWeekend(s.name,s.date)&&!e.isWorkdayOnWeekend(s.name,s.date)?"0":"8"))])]),t("div",{staticClass:"work-items",on:{click:function(t){return e.handleWorkItemsClick(s.date,t)}}},[e._l(s.items,(function(a,i){return t("div",{key:i,staticClass:"work-item",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"item-content"},[t("div",{staticClass:"item-title"},[e._v(e._s(a.title))]),t("div",{staticClass:"item-hours"},[e._v(e._s(a.hours)+"小时")])]),t("div",{staticClass:"item-actions"},[t("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteWorkItem(s.date,i)}}})],1)])})),0===s.items.length?t("div",{staticClass:"empty-placeholder"},[t("i",{staticClass:"el-icon-plus"}),t("span",[e._v("点击添加工时事项")])]):e._e()],2)])})),0),t("el-dialog",{attrs:{title:"添加工时事项",visible:e.dialogVisible,width:"600px","before-close":e.handleDialogClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"itemForm",attrs:{model:e.newItem,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"事项名称",prop:"title"}},[t("el-input",{attrs:{placeholder:"请输入事项名称",maxlength:"50",type:"textarea",autosize:""},model:{value:e.newItem.title,callback:function(t){e.$set(e.newItem,"title",t)},expression:"newItem.title"}})],1),t("el-form-item",{attrs:{label:"工时",prop:"hours"}},[t("el-input-number",{attrs:{min:.5,max:24,step:.5,precision:1,placeholder:"请输入工时"},model:{value:e.newItem.hours,callback:function(t){e.$set(e.newItem,"hours",t)},expression:"newItem.hours"}}),t("span",{staticClass:"hours-unit"},[e._v("小时")])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleDialogClose}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addWorkItem}},[e._v("确定")])],1)],1)],1)])},B=[],J=s("da14"),H={name:"WorkTimeSchedule",components:{PageLayout:k},data(){return{weekDays:[],currentWeekStart:null,isCurrentWeek:!1,dialogVisible:!1,currentDay:"",newItem:{title:"",hours:1},rules:{title:[{required:!0,message:"请输入事项名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],hours:[{required:!0,message:"请输入工时",trigger:"blur"}]}}},computed:{weekRange(){if(0===this.weekDays.length)return"";const e=this.weekDays[0],t=this.weekDays[6];return`${e.date} - ${t.date}`},currentWeekNumber(){if(!this.currentWeekStart)return"";const e=new Date(this.currentWeekStart.getFullYear(),0,1),t=Math.floor((this.currentWeekStart-e)/864e5),s=Math.ceil((t+e.getDay()+1)/7);return s}},mounted(){this.initCurrentWeek(),this.loadData()},methods:{initCurrentWeek(){const e=new Date,t=e.getDay(),s=new Date(e),a=0===t?6:t-1;s.setDate(e.getDate()-a),this.currentWeekStart=s,this.generateWeekDays(s),this.updateIsCurrentWeek()},updateIsCurrentWeek(){if(!this.currentWeekStart)return void(this.isCurrentWeek=!1);const e=new Date,t=e.getDay(),s=new Date(e),a=0===t?6:t-1;s.setDate(e.getDate()-a);const i=this.formatDate(s),n=this.formatDate(this.currentWeekStart);this.isCurrentWeek=i===n},generateWeekDays(e){const t=[],s=["周一","周二","周三","周四","周五","周六","周日"];for(let a=0;a<7;a++){const i=new Date(e);i.setDate(e.getDate()+a),t.push({name:s[a],date:this.formatDate(i),items:[]})}this.weekDays=t},formatDate(e){const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${a}`},showAddDialog(e){this.currentDay=e,this.dialogVisible=!0,this.newItem={title:"",hours:1},this.$nextTick(()=>{this.$refs.itemForm&&this.$refs.itemForm.clearValidate()})},handleDialogClose(){this.dialogVisible=!1,this.currentDay="",this.newItem={title:"",hours:1}},addWorkItem(){this.$refs.itemForm.validate(e=>{if(e){const e=this.weekDays.findIndex(e=>e.date===this.currentDay);-1!==e&&(this.weekDays[e].items.push({title:this.newItem.title,hours:this.newItem.hours}),this.saveData(),this.handleDialogClose(),this.$message.success("添加成功"))}})},deleteWorkItem(e,t){const s=this.weekDays.findIndex(t=>t.date===e);-1!==s&&(this.weekDays[s].items.splice(t,1),this.saveData(),this.$message.success("删除成功"))},saveData(){const e=this.getWeekKey(),t={weekKey:e,weekDays:this.weekDays};localStorage.setItem("workTimeSchedule",JSON.stringify(t))},loadData(){const e=localStorage.getItem("workTimeSchedule");if(e)try{const t=JSON.parse(e),s=this.getWeekKey();t.weekKey===s&&(this.weekDays=t.weekDays)}catch(t){console.error("加载数据失败:",t)}},getWeekKey(){return 0===this.weekDays.length?"":this.weekDays[0].date},previousWeek(){const e=new Date(this.currentWeekStart);e.setDate(this.currentWeekStart.getDate()-7),this.currentWeekStart=e,this.generateWeekDays(e),this.loadData(),this.updateIsCurrentWeek()},nextWeek(){const e=new Date(this.currentWeekStart);e.setDate(this.currentWeekStart.getDate()+7),this.currentWeekStart=e,this.generateWeekDays(e),this.loadData(),this.updateIsCurrentWeek()},goToCurrentWeek(){this.initCurrentWeek(),this.loadData()},isWeekend(e,t){return Object(J["b"])(t)},isWorkdayOnWeekend(e,t){return("周六"===e||"周日"===e)&&Object(J["c"])(t)},getHolidayName(e){const t=Object(J["a"])(e);if(t&&t.name){const e=t.name.split(",");if(e.length>1)return e[1];const s=e[0];return"Saturday"===s||"Sunday"===s?null:s}return null},isToday(e){const t=new Date,s=this.formatDate(t);return e===s},getTotalHours(e){if(!e||0===e.length)return 0;const t=e.reduce((e,t)=>e+t.hours,0);return t.toFixed(1)},handleWorkItemsClick(e,t){(t.target.classList.contains("work-items")||t.target.classList.contains("empty-placeholder")||t.target.closest(".empty-placeholder"))&&this.showAddDialog(e)}}},z=H,V=(s("2c7e"),Object(o["a"])(z,R,B,!1,null,"1a3212cf",null)),Q=V.exports;a["default"].use(d["a"]);const K=[{path:"/",name:"Home",component:T,meta:{title:"叮咚的工具箱"}},{path:"/sql-format",name:"SqlFormat",component:O,meta:{title:"SQL格式化 - 叮咚的工具箱"}},{path:"/plate-generator",name:"PlateGenerator",component:I,meta:{title:"车牌号生成 - 叮咚的工具箱"}},{path:"/web-embed/:url/:title/:desc?",name:"WebEmbed",component:j,meta:{title:"外部网站 - 叮咚的工具箱"}},{path:"/work-time-schedule",name:"WorkTimeSchedule",component:Q,meta:{title:"工时排布统计 - 叮咚的工具箱"}},{path:"*",redirect:"/"}],Y=new d["a"]({mode:"hash",base:"",routes:K});Y.beforeEach((e,t,s)=>{e.meta&&e.meta.title?document.title=e.meta.title:document.title="叮咚的工具箱",s()});var G=Y,X=s("5c96"),Z=s.n(X);s("0fae");a["default"].use(Z.a),a["default"].config.productionTip=!1,new a["default"]({router:G,render:e=>e(u)}).$mount("#app")},"6cba":function(e,t,s){"use strict";s("8fb4")},"7bc4":function(e,t,s){},"89ea":function(e,t,s){"use strict";s("2ad7")},"8fb4":function(e,t,s){},b009:function(e,t,s){},ba9d:function(e,t,s){},caef:function(e,t,s){}});
//# sourceMappingURL=app.d20cacc6.js.map